{
  "hash": "ff82c6de1ea5187e78a31a648c6621f4",
  "result": {
    "engine": "knitr",
    "markdown": "---\nformat:\n  html:\n    code-fold: show\n    code-summary: \"Ocultar c√≥digo\"\n    code-line-numbers: false\n    code-annotations: false\n    code-link: true\n    code-tools:\n        source: true\n        toggle: true\n        caption: \"C√≥digo\"\n    code-overflow: scroll\n    page-layout: full\neditor_options:\n  chunk_output_type: console\ncategories: [\"geom_sf\", \"geom_path\"]\nexecute:\n  eval: false\n  echo: true\n  warning: false\ntitle: \"üîå Red el√©ctrica\"\ndate: 2024-04-27\nauthor: V√≠ctor Gauto\n---\n\n\n\n\nMapa de la red el√©ctrica en Argentina, mostrando l√≠neas de alta tensi√≥n y plantas transformadoras.\n\n![Red el√©ctrica en Argentina.](red_electrica.png)\n\n## Paquetes\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(sf)\nlibrary(tidyverse)\nlibrary(glue)\nlibrary(showtext)\nlibrary(ggtext)\n```\n:::\n\n\n\n\n## Estilos\n\nColores de escalas de grises\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nl1 <- \"grey10\"\nl2 <- \"grey15\"\nl3 <- \"grey20\"\nl4 <- \"grey25\"\nl5 <- \"grey90\"\np1 <- \"#054544\"\np2 <- \"#175F5D\"\np3 <- \"#178F92\"\np4 <- \"#4FB6CA\"\np5 <- \"#EAF3FF\"\n```\n:::\n\n\n\n\nFuentes: Ubuntu, JetBrains Mono y Voltage.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfont_add(\n  family = \"ubuntu\",\n  regular = \"././fuente/Ubuntu-Regular.ttf\",\n  bold = \"././fuente/Ubuntu-Bold.ttf\",\n  italic = \"././fuente/Ubuntu-Italic.ttf\"\n)\n\nfont_add(\n  family = \"jet\",\n  regular = \"././fuente/JetBrainsMonoNLNerdFontMono-Regular.ttf\"\n)\n\nfont_add(\n  family = \"voltage\",\n  regular = \"././fuente/Voltage-Regular.otf\"\n)\n\nshowtext_auto()\nshowtext_opts(dpi = 300)\n```\n:::\n\n\n\n\n## Ep√≠grafe\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfuente <- glue(\n  \"<b>Datos:</b> <span style='color:{p4};'>Instituto Geogr√°fico Nacional</span>\"\n)\nautor <- glue(\"<span style='color:{p4};'>V√≠ctor Gauto</span>\")\nicon_twitter <- glue(\"<span style='font-family:jet;'>&#xeb72;</span>\")\nicon_instagram <- glue(\"<span style='font-family:jet;'>&#xf16d;</span>\")\nicon_github <- glue(\"<span style='font-family:jet;'>&#xf09b;</span>\")\nicon_mastodon <- glue(\"<span style='font-family:jet;'>&#xf0ad1;</span>\")\nicon_bluesky <- glue(\"<span style='font-family:jet;'>&#xe28e;</span>\")\nusuario <- glue(\"<span style='color:{p4};'>vhgauto</span>\")\nsep <- glue(\"**|**\")\n\nmi_caption <- glue(\n  \"{fuente} {sep} {autor} {sep} <b>{icon_github} {icon_twitter} \",\n  \"{icon_instagram} {icon_mastodon} {icon_bluesky}</b> {usuario}\"\n)\n```\n:::\n\n\n\n\n## Datos\n\nVector del contorno continental de Argentina, obtenido del [Instituto Geogr√°fico Nacional](https://www.ign.gob.ar/NuestrasActividades/InformacionGeoespacial/CapasSIG) (IGN).\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np <- st_read(\"argentina/vectores/arg_continental.gpkg\") |>\n  st_transform(crs = \"EPSG:5346\")\n```\n:::\n\n\n\n\nVector del tendido el√©ctrico de Argentina y plantas transformadoras.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlin_elec <- st_read(\"argentina/vectores/extras/lineas_de_energia_AT030.json\") |>\n  st_transform(crs = \"EPSG:5346\")\nplanta_transf <- st_read(\n  \"argentina/vectores/extras/puntos_de_energia_AD030.json\"\n) |>\nst_transform(crs = \"EPSG:5346\")\n```\n:::\n\n\n\n\nMantengo √∫nicamente las l√≠neas de alta tensi√≥n y plantas transformadoras activas.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nalta_tension <- lin_elec |>\n  filter(ten == 6) |>\n  filter(fun == 6) |>\n  st_union() |>\n  st_line_merge() |>\n  st_coordinates() |>\n  as.data.frame()\n\nplanta_transf_act <- planta_transf |>\n  filter(fun == 6)\n```\n:::\n\n\n\n\n## Figura\n\nT√≠tulo y subt√≠tulo.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmi_titulo <- \"RED ELECTRICA ARGENTINA\"\n\nmi_subtitulo <- \"Las l√≠neas representan la red de alta tensi√≥n y<br>\n  los puntos las plantas transformadoras.\"\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ng <- ggplot() +\n  geom_sf(data = p, fill = \"black\", color = NA) +\n  geom_path(\n    data = alta_tension, aes(x = X, y = Y, group = L1),\n    color = l1, linewidth = 7, lineend = \"round\") +\n  geom_path(\n    data = alta_tension, aes(x = X, y = Y, group = L1),\n    color = l2, linewidth = 5, lineend = \"round\") +\n  geom_path(\n    data = alta_tension, aes(x = X, y = Y, group = L1),\n    color = l3, linewidth = 3, lineend = \"round\") +\n  geom_path(\n    data = alta_tension, aes(x = X, y = Y, group = L1),\n    color = l4, linewidth = 1, lineend = \"round\") +\n  geom_path(\n    data = alta_tension, aes(x = X, y = Y, group = L1),\n    color = l5, linewidth = .2, lineend = \"round\") +\n  geom_sf(data = planta_transf_act, size = 5, color = p1) +\n  geom_sf(data = planta_transf_act, size = 4, color = p2) +\n  geom_sf(data = planta_transf_act , size = 3, color = p3) +\n  geom_sf(data = planta_transf_act , size = 2, color = p4) +\n  geom_sf(data = planta_transf_act , size = .1, color = p5) +\n  labs(\n    title = mi_titulo,\n    subtitle = mi_subtitulo,\n    caption = mi_caption) +\n  theme_void() +\n  theme(\n    plot.background = element_rect(fill = \"grey5\", color = p4, linewidth = 3),\n    plot.margin = margin(15, 24, 15, 24),\n    plot.title.position = \"plot\",\n    plot.title = element_markdown(\n      color = p4, size = 100, family = \"voltage\", hjust = .5\n    ),\n    plot.subtitle = element_markdown(\n      color = p5, size = 25, hjust = .5, family = \"ubuntu\", lineheight = 1.3\n    ),\n    plot.caption.position = \"plot\",\n    plot.caption = element_markdown(\n      color = p5, family = \"ubuntu\", size = 23, margin = margin(10, 0, 5, 0),\n      hjust = .5\n    )\n  )\n```\n:::\n\n\n\n\nGuardo.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave(\n  plot = g,\n  filename = \"argentina/instalaciones/red_electrica.png\",\n  width = 30,\n  height = 69,\n  units = \"cm\",\n  dpi = 300\n)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}